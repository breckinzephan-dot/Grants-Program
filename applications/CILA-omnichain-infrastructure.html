<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-applications/CILA-omnichain-infrastructure" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">CILA - Omnichain Infrastructure | Web3 Foundation Grants</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://grants.web3.foundation/applications/CILA-omnichain-infrastructure"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CILA - Omnichain Infrastructure | Web3 Foundation Grants"><meta data-rh="true" name="description" content="- Team Name: Collective Intelligence Labs"><meta data-rh="true" property="og:description" content="- Team Name: Collective Intelligence Labs"><link data-rh="true" rel="icon" href="/img/favicon-32x32.png"><link data-rh="true" rel="canonical" href="https://grants.web3.foundation/applications/CILA-omnichain-infrastructure"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/CILA-omnichain-infrastructure" hreflang="en"><link data-rh="true" rel="alternate" href="https://grants.web3.foundation/applications/CILA-omnichain-infrastructure" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9VKKGZO0U1-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Web3 Foundation Grants" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.f3a7e75f.css">
<script src="/assets/js/runtime~main.aa75b5bf.js" defer="defer"></script>
<script src="/assets/js/main.ca7eb814.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#000;color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><a target="_blank" rel="noopener noreferrer" href="https://medium.com/web3foundation/web3-foundation-ecodev-wave-25-300a9e0933f7">Our blog post on Q1 2025 / Wave 25 is now online!</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/w3f_logo.svg" alt="W3F Grants Program" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Grants Program</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/applications">List of Grants</a><a class="navbar__item navbar__link" href="/docs/faq">FAQ</a><a class="navbar__item navbar__link" href="/docs/Process/how-to-apply">Apply</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><main class="docMainContainer_TBSr docMainContainerEnhanced_lQrH"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CILA - Omnichain Infrastructure</h1></header>
<ul>
<li><strong>Team Name:</strong> Collective Intelligence Labs</li>
<li><strong>Payment Address:</strong>  bc1qff0kjc6pyjkneyt3pctm5nahjpd9f774avz55x (BTC)</li>
<li><strong>Level:</strong> 2</li>
<li><strong>Status:</strong> <a href="https://github.com/w3f/Grants-Program/pull/1679#issuecomment-1823419675" target="_blank" rel="noopener noreferrer">Terminated</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="project-overview-page_facing_up">Project Overview <!-- -->📄<a href="#project-overview-page_facing_up" class="hash-link" aria-label="Direct link to project-overview-page_facing_up" title="Direct link to project-overview-page_facing_up">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<p>The goal of this project is to implement an omnichain smart contract infrastructure support for Substrate framework. 🌐🤖 This will include the implementation of CQRS + Event Sourcing execution environment plus an example smart-contract. The implementation will be done using WASM and/or native Rust Substrate implementation as a pallet. The implementation will include implementing Protobuf support on-chain, serialization/deserialization, aggregated repository, event store, command/operations dispatcher, and events emitter. 🛠️👨‍💻</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h3>
<p>This project aims to add an omnichain smart contract infrastructure support for Substrate framework by implementing a CQRS + Event Sourcing execution environment. CQRS (Command Query Responsibility Segregation) is a design pattern that separates the command and query responsibilities of an application. Event Sourcing is a design pattern that represents the state of an application as a series of events that are stored in an event store. 🧬💻</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="implementation">Implementation<a href="#implementation" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h3>
<p>The implementation of the omnichain smart contract infrastructure will be done using WASM and/or native Rust Substrate implementation as a pallet. The implementation will include the following components:</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="protobuf-support-on-chain">Protobuf support on-chain<a href="#protobuf-support-on-chain" class="hash-link" aria-label="Direct link to Protobuf support on-chain" title="Direct link to Protobuf support on-chain">​</a></h4>
<p>Protobuf is a language-agnostic binary serialization format that allows developers to define structured data schemas. The implementation will include support for Protobuf on-chain, which will enable developers to define smart contract interfaces using Protobuf. 🤖💾</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate-repository">Aggregate Repository<a href="#aggregate-repository" class="hash-link" aria-label="Direct link to Aggregate Repository" title="Direct link to Aggregate Repository">​</a></h4>
<p>Aggregate Repository is a data storage module that manages the state and storage of aggregate objects. It provides methods for creating, reading, updating, and deleting aggregates. 📈📊</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="event-store">Event Store<a href="#event-store" class="hash-link" aria-label="Direct link to Event Store" title="Direct link to Event Store">​</a></h4>
<p>An event store is a database that stores events in the order they occurred. The implementation will include an event store, which will store all the events generated by the smart contract. 🗂️📑</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commandoperations-dispatcher">Command/operations Dispatcher<a href="#commandoperations-dispatcher" class="hash-link" aria-label="Direct link to Command/operations Dispatcher" title="Direct link to Command/operations Dispatcher">​</a></h4>
<p>A command/operations dispatcher is a component that receives commands/operations and dispatches them to the appropriate handler. The implementation will include a command/operations dispatcher, which will enable developers to define command/operation handlers for the smart contract. 🚚👨‍✈️</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="events-emitter">Events Emitter<a href="#events-emitter" class="hash-link" aria-label="Direct link to Events Emitter" title="Direct link to Events Emitter">​</a></h4>
<p>An events emitter is a component that emits events. The implementation will include an events emitter, which will enable developers to define event handlers for the smart contract. 📣🔊</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The completion of this project will provide a powerful infrastructure for developers to build customized omnichain smart contracts on the Substrate framework. 💪👨‍💼</p>
<p><img decoding="async" loading="lazy" src="https://i.imgur.com/QsmzpZR.png" alt="architecture" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-technology-stack">🚀 Technology Stack<a href="#-technology-stack" class="hash-link" aria-label="Direct link to 🚀 Technology Stack" title="Direct link to 🚀 Technology Stack">​</a></h2>
<p><strong>Programming Language</strong> - Rust 🦀</p>
<p><strong>Blockchain Framework</strong> - Substrate ⛓️</p>
<p><strong>Virtual Machine</strong> - WebAssembly (WASM) 🕸️</p>
<p><strong>Serialization</strong> - Protocol Buffers (protobuf) 📜: a language-agnostic data serialization format that allows for efficient and interoperable communication between different services and systems.</p>
<p><strong>Design Patterns</strong>:</p>
<ul>
<li>Event Sourcing 📝: a pattern that captures all changes to an application state as a sequence of events, which can be used to reconstruct the state at any point in time.</li>
<li>Command Query Responsibility Segregation (CQRS) 🧬: a pattern that separates the read and write concerns of an application, using separate models and interfaces for each.</li>
<li>Saga pattern 🌟: a pattern for coordinating distributed transactions across multiple services, ensuring consistency and reliability.</li>
<li>Domain-Driven Design (DDD) 🏰: a design approach that emphasizes the importance of the domain model in shaping the architecture of a software system.</li>
</ul>
<p><strong>Database</strong> - MongoDB 🗄️: a NoSQL document database that provides scalability, flexibility, and high availability.</p>
<p><strong>Testing Framework</strong> - Rust Testing 🧪: Rust has an inbuilt testing framework that enables testing of units of code in isolation.</p>
<p><strong>CI/CD</strong> - GitHub Actions 🚀: a continuous integration and continuous deployment service that can automate the build and deployment processes.</p>
<p><strong>Containerization</strong> - Docker 🐳: a tool that allows for the creation, deployment, and running of applications in containers, providing a consistent runtime environment across different platforms.</p>
<h1>Documentation for Core Copmpontents</h1>
<h1>Dispatcher</h1>
<p>The <code>Dispatcher</code> is a component of the omnichain smart contract infrastructure that receives commands/operations and dispatches them to the appropriate handler. The <code>Dispatcher</code> class enables developers to define command/operation handlers for the smart contract.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<p>The <code>Dispatcher</code> can be used in the implementation of the CQRS + Event Sourcing execution environment for Substrate framework. It receives commands/operations from external sources, such as a client or a node, and routes them to the appropriate command/operation handler.</p>
<p>To use the <code>Dispatcher</code>, developers first define a set of command/operation handlers for the smart contract. These handlers can be implemented as methods in a Rust struct. The <code>Dispatcher</code> class then instantiates this struct and routes commands/operations to the appropriate method based on the type of command/operation.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="benefits">Benefits<a href="#benefits" class="hash-link" aria-label="Direct link to Benefits" title="Direct link to Benefits">​</a></h2>
<p>The <code>Dispatcher</code> provides a simple and flexible way to handle commands/operations in the smart contract. By defining a set of command/operation handlers, developers can easily add new functionality to the smart contract without having to modify the <code>Dispatcher</code> class itself.</p>
<p>In addition, the <code>Dispatcher</code> enables developers to implement complex business logic in the smart contract by routing commands/operations to the appropriate handler. This allows for a more modular and maintainable codebase.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-1">Conclusion<a href="#conclusion-1" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The <code>Dispatcher</code> is a crucial component of the omnichain smart contract infrastructure. By enabling developers to define command/operation handlers for the smart contract, it provides a simple and flexible way to handle commands/operations. Its usage in the implementation of the CQRS + Event Sourcing execution environment for Substrate framework enables developers to implement complex business logic in a modular and maintainable codebase.</p>
<h1>EventStore</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h2>
<p>The <code>EventStore</code>  is a database that stores events in the order they occurred. It is a crucial component of the omnichain smart contract infrastructure support for Substrate framework. The <code>EventStore</code> class enables the storage of all events generated by the smart contract, allowing for a complete historical record of all transactions and changes to the smart contract&#x27;s state.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-1">Implementation<a href="#implementation-1" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2>
<p>The <code>EventStore</code>  is implemented using an internal Substrate database. The <code>EventStore</code> stores events in the form of serialized binary data plus metadata, which can be easily deserialized for querying and analysis.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<p>The <code>EventStore</code>  includes the following features:</p>
<ul>
<li>
<p><strong>Event storage:</strong> The <code>EventStore</code> stores all events generated by the smart contract in the order they occurred, allowing for a complete historical record of all transactions and changes to the smart contract&#x27;s state.</p>
</li>
<li>
<p><strong>Querying:</strong> The <code>EventStore</code> allows for easy querying of events using various criteria, such as time range, event type, or specific parameters.</p>
</li>
<li>
<p><strong>Deserialization:</strong> The <code>EventStore</code> can easily deserialize stored binary data for querying and analysis.</p>
</li>
<li>
<p><strong>Scalability:</strong> The <code>EventStore</code>  can handle large volumes of events and is designed for scalability.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="benefits-1">Benefits<a href="#benefits-1" class="hash-link" aria-label="Direct link to Benefits" title="Direct link to Benefits">​</a></h2>
<p>The <code>EventStore</code> provides several benefits to developers building smart contracts on the Substrate framework, including:</p>
<ul>
<li>
<p><strong>Transparency:</strong> The <code>EventStore</code> provides a complete historical record of all transactions and changes to the smart contract&#x27;s state, ensuring transparency and accountability.</p>
</li>
<li>
<p><strong>Auditability:</strong> The <code>EventStore</code> allows for easy querying and analysis of events, enabling developers to audit the smart contract&#x27;s behavior and ensure compliance with regulations and business rules.</p>
</li>
<li>
<p><strong>Flexibility:</strong> The <code>EventStore</code> can handle a wide range of event types and is designed for scalability, providing flexibility for developers building smart contracts on the Substrate framework.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-2">Conclusion<a href="#conclusion-2" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The <code>EventStore</code> is a crucial component of the omnichain smart contract infrastructure support for Substrate framework. It provides event storage, querying, deserialization, and scalability features, enabling developers to build transparent, auditable, and flexible smart contracts on the Substrate framework. The completion of this project will provide a powerful infrastructure for developers to build customized smart contracts on the Substrate framework, with the <code>EventStore</code> serving as a key component of this infrastructure.</p>
<h1>Snapshot Store</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview-1">Overview<a href="#overview-1" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The <code>Snapshot Store</code> is a component of the omnichain smart contract infrastructure that provides a way to store and retrieve snapshots of the smart contract state. A snapshot is a read-only view of the smart contract state at a particular point in time. Snapshots are useful for optimizing the performance of the smart contract by reducing the amount of data that needs to be read from the event store.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-2">Implementation<a href="#implementation-2" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2>
<p>The implementation of the <code>Snapshot Store</code> includes the following components:</p>
<ul>
<li><code>Snapshot Store</code>: The Snapshot Store is the primary component. It provides an interface for storing and retrieving snapshots of the smart contract state.</li>
<li><code>Snapshot Index</code>: The Snapshot Index is a data structure that is used to index snapshots by their version. It allows for efficient retrieval of the latest snapshot.</li>
<li><code>Snapshot Writer</code>: The Snapshot Writer is a component that is used to write snapshots to the Snapshot Store. It receives the current state of the smart contract and writes it to the Snapshot Store as a snapshot.</li>
<li><code>Snapshot Reader</code>: The Snapshot Reader is a component that is used to read snapshots from the Snapshot Store. It receives a snapshot version and returns a read-only view of the smart contract state at that version.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-3">Conclusion<a href="#conclusion-3" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The <code>Snapshot Store</code> provides a way to store and retrieve snapshots of the smart contract state, which can be used to optimize the performance of the smart contract. The implementation includes the <code>Snapshot Store</code>, <code>Snapshot Index</code>, <code>Snapshot Writer</code>, and <code>Snapshot Reader</code> components. The completion of this component will provide a pefrormance optmization for omnichain smart contracts on the Substrate framework.</p>
<h1>Aggregate</h1>
<p>The <code>Aggregate</code> is a core component of the CQRS + Event Sourcing design pattern. It represents the current state of an entity and is responsible for handling commands and producing events.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="description-1">Description<a href="#description-1" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h2>
<p>An <code>Aggregate</code> is a stateful object that represents a single entity in the system. It maintains its state by applying events to its internal state. A new state can be generated by applying new events to the existing state.</p>
<p>In the context of the Substrate framework, an <code>Aggregate</code> is implemented as a Rust struct that contains its internal state and a set of methods to apply events and handle commands.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-3">Implementation<a href="#implementation-3" class="hash-link" aria-label="Direct link to Implementation" title="Direct link to Implementation">​</a></h2>
<p>The <code>Aggregate</code> is implemented using the following components:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="internal-state">Internal state<a href="#internal-state" class="hash-link" aria-label="Direct link to Internal state" title="Direct link to Internal state">​</a></h3>
<p>The internal state of an <code>Aggregate</code> is represented as a Rust struct. The struct contains all the data necessary to represent the current state of the entity.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="command-handling">Command handling<a href="#command-handling" class="hash-link" aria-label="Direct link to Command handling" title="Direct link to Command handling">​</a></h3>
<p>The <code>Aggregate</code> contains a set of methods to handle commands. These methods accept a command object as input and return a set of events that represent the result of executing the command.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event-sourcing">Event sourcing<a href="#event-sourcing" class="hash-link" aria-label="Direct link to Event sourcing" title="Direct link to Event sourcing">​</a></h3>
<p>The <code>Aggregate</code> implements event sourcing by maintaining a list of events that have been applied to the internal state. When a new command is received, the <code>Aggregate</code> applies the appropriate events to generate a new state.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="snapshotting">Snapshotting<a href="#snapshotting" class="hash-link" aria-label="Direct link to Snapshotting" title="Direct link to Snapshotting">​</a></h3>
<p>The <code>Aggregate</code> implements snapshotting by periodically storing a snapshot of its internal state. When an <code>Aggregate</code> is retrieved from its event stream, it can be initialized with the latest snapshot and then apply only the events that occurred after the snapshot.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion-4">Conclusion<a href="#conclusion-4" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>The <code>Aggregate</code> is a core component of the CQRS + Event Sourcing design pattern. It represents the current state of an entity and is responsible for handling commands and producing events. The implementation of the <code>Aggregate</code> in the Substrate framework provides a powerful mechanism for building complex and scalable smart contracts.</p>
<h1>AggregateState</h1>
<p>The <code>AggregateState</code> represents the state of an aggregate object in the event sourcing pattern. It is responsible for maintaining the current state of the aggregate object by processing the events that have occurred in the past.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h3>
<ul>
<li><code>id</code>: The unique identifier of the aggregate object.</li>
<li><code>version</code>: The version of the aggregate object.</li>
<li><code>events</code>: The list of events that have occurred in the past.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h3>
<ul>
<li><code>apply_event(event)</code>: Applies the given event to the current state of the aggregate object. This method updates the state of the aggregate object based on the event that occurred.</li>
<li><code>get_version()</code>: Returns the version of the aggregate object.</li>
<li><code>get_events()</code>: Returns the list of events that have occurred in the past.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-1">Usage<a href="#usage-1" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h3>
<p>To use the <code>AggregateState</code> , you must first create an instance of it and initialize it with the current state of the aggregate object. You can then apply events to the aggregate object by calling the <code>apply_event()</code> method.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="diagramm">Diagramm<a href="#diagramm" class="hash-link" aria-label="Direct link to Diagramm" title="Direct link to Diagramm">​</a></h2>
<p>Architecture Overview Diagram
<img decoding="async" loading="lazy" src="https://i.imgur.com/nWGtuEc.png" alt="Diagramm" class="img_ev3q"></p>
<p>Flow Diagramm</p>
<p><img decoding="async" loading="lazy" src="https://i.imgur.com/1jeLNo1.png" alt="Diagramm" class="img_ev3q"></p>
<p>Command Processing Flow Diagramm</p>
<div class="language-sql codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sql codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token comment" style="color:#999988;font-style:italic">------------+       +------------+       +-----------------+       +-------------------+       +------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Application</span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Router   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Execution </span><span class="token keyword" style="color:#00009f">Chain</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  Event Relay Node </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">       </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> Aggregation</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token comment" style="color:#999988;font-style:italic">------------+       +------------+       +-----------------+       +-------------------+       +------------+</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Command Request  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">------------------&gt;|                    |                            |                               |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Command </span><span class="token keyword" style="color:#00009f">Handler</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">------------------&gt;|                    |                            |                               |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Command Request   </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">-------------------&gt;|                            |                               |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  </span><span class="token keyword" style="color:#00009f">Execute</span><span class="token plain"> Command </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">CQRS</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">---------------------------&gt;|                               |</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     Store Event </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ES</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">         </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">-----------------------------&gt;|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Broadcast Event </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     Other Chains            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">---------------------------&gt;|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">  Transmit Event </span><span class="token keyword" style="color:#00009f">to</span><span class="token plain">          </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     Aggregation Cluster     </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token comment" style="color:#999988;font-style:italic">-----------------------------&gt;|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">   Process Events </span><span class="token operator" style="color:#393A34">and</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     Produce Aggregated </span><span class="token keyword" style="color:#00009f">Data</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token comment" style="color:#999988;font-style:italic">-----------------------------|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">     </span><span class="token keyword" style="color:#00009f">Return</span><span class="token plain"> Aggregated </span><span class="token keyword" style="color:#00009f">Data</span><span class="token plain">  </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token comment" style="color:#999988;font-style:italic">-----------------------------|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                    </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                            </span><span class="token operator" style="color:#393A34">|</span><span class="token plain">                               </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h1>API Documentation</h1>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="domain">Domain<a href="#domain" class="hash-link" aria-label="Direct link to Domain" title="Direct link to Domain">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aggregate-1">Aggregate<a href="#aggregate-1" class="hash-link" aria-label="Direct link to Aggregate" title="Direct link to Aggregate">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aggregatestate-1"><code>AggregateState</code><a href="#aggregatestate-1" class="hash-link" aria-label="Direct link to aggregatestate-1" title="Direct link to aggregatestate-1">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-1">Methods<a href="#methods-1" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new() -&gt; Self</code>: Creates a new instance of <code>AggregateState</code>.</li>
<li><code>apply_events(&amp;mut self, events: Vec&lt;DomainEvent&gt;) -&gt; Result&lt;(), String&gt;</code>: Applies a list of domain events to the aggregate state.</li>
<li><code>clear(&amp;mut self)</code>: Clears the state of the aggregate.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="domainevent"><code>DomainEvent</code><a href="#domainevent" class="hash-link" aria-label="Direct link to domainevent" title="Direct link to domainevent">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-2">Methods<a href="#methods-2" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new(evnt_type: DomainEventType, evnt_payload: Vec&lt;u8&gt;) -&gt; Self</code>: Creates a new instance of <code>DomainEvent</code>.</li>
<li><code>serialize(&amp;self) -&gt; Result&lt;Vec&lt;u8&gt;, String&gt;</code>: Serializes the domain event to a byte array.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="domaineventtype"><code>DomainEventType</code><a href="#domaineventtype" class="hash-link" aria-label="Direct link to domaineventtype" title="Direct link to domaineventtype">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="variants">Variants<a href="#variants" class="hash-link" aria-label="Direct link to Variants" title="Direct link to Variants">​</a></h5>
<ul>
<li><code>NFT_MINTED</code></li>
<li><code>NFT_TRANSFERED</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="entities">Entities<a href="#entities" class="hash-link" aria-label="Direct link to Entities" title="Direct link to Entities">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nft"><code>NFT</code><a href="#nft" class="hash-link" aria-label="Direct link to nft" title="Direct link to nft">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="fields">Fields<a href="#fields" class="hash-link" aria-label="Direct link to Fields" title="Direct link to Fields">​</a></h5>
<ul>
<li><code>hash: [u8; 32]</code>: The unique hash of the NFT.</li>
<li><code>owner: Address</code>: The address of the owner of the NFT.</li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-3">Methods<a href="#methods-3" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new(hash: [u8; 32], owner: Address) -&gt; Self</code>: Creates a new instance of <code>NFT</code>.</li>
<li><code>get_hash(&amp;self) -&gt; [u8; 32]</code>: Returns the hash of the NFT.</li>
<li><code>get_owner(&amp;self) -&gt; Address</code>: Returns the owner of the NFT.</li>
<li><code>transfer(&amp;mut self, new_owner: Address)</code>: Transfers the ownership of the NFT to a new owner.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="application">Application<a href="#application" class="hash-link" aria-label="Direct link to Application" title="Direct link to Application">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="command">Command<a href="#command" class="hash-link" aria-label="Direct link to Command" title="Direct link to Command">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="command-1"><code>Command</code><a href="#command-1" class="hash-link" aria-label="Direct link to command-1" title="Direct link to command-1">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="fields-1">Fields<a href="#fields-1" class="hash-link" aria-label="Direct link to Fields" title="Direct link to Fields">​</a></h5>
<ul>
<li><code>cmd_type: CommandType</code></li>
<li><code>cmd_payload: Vec&lt;u8&gt;</code></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-4">Methods<a href="#methods-4" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new(cmd_type: CommandType, cmd_payload: Vec&lt;u8&gt;) -&gt; Self</code>: Creates a new instance of <code>Command</code>.</li>
<li><code>serialize(&amp;self) -&gt; Result&lt;Vec&lt;u8&gt;, String&gt;</code>: Serializes the command to a byte array.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commandtype"><code>CommandType</code><a href="#commandtype" class="hash-link" aria-label="Direct link to commandtype" title="Direct link to commandtype">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="variants-1">Variants<a href="#variants-1" class="hash-link" aria-label="Direct link to Variants" title="Direct link to Variants">​</a></h5>
<ul>
<li><code>MINT_NFT</code></li>
<li><code>TRANSFER_NFT</code></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="service">Service<a href="#service" class="hash-link" aria-label="Direct link to Service" title="Direct link to Service">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="commanddispatcher"><code>CommandDispatcher</code><a href="#commanddispatcher" class="hash-link" aria-label="Direct link to commanddispatcher" title="Direct link to commanddispatcher">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-5">Methods<a href="#methods-5" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>dispatch(command: Command) -&gt; Result&lt;(), String&gt;</code>: Dispatches a command to the appropriate handler.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nftservice"><code>NFTService</code><a href="#nftservice" class="hash-link" aria-label="Direct link to nftservice" title="Direct link to nftservice">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="fields-2">Fields<a href="#fields-2" class="hash-link" aria-label="Direct link to Fields" title="Direct link to Fields">​</a></h5>
<ul>
<li><code>state: NFTsState</code></li>
<li><code>event_store: Box&lt;dyn EventStore&gt;</code></li>
<li><code>dispatcher: Box&lt;dyn CommandDispatcher&gt;</code></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-6">Methods<a href="#methods-6" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new(state: NFTsState, event_store: Box&lt;dyn EventStore&gt;, dispatcher: Box&lt;dyn CommandDispatcher&gt;) -&gt; Self</code>: Creates a new instance of <code>NFTService</code>.</li>
<li><code>handle_command(&amp;mut self, command: Command) -&gt; Result&lt;(), String&gt;</code>: Handles a command by dispatching it to the appropriate handler.</li>
<li><code>get_nft_owner(&amp;self, hash: [u8; 32]) -&gt; Option&lt;Address&gt;</code>: Returns the owner of an NFT with the given hash.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="event">Event<a href="#event" class="hash-link" aria-label="Direct link to Event" title="Direct link to Event">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="domaineventtype-1"><code>DomainEventType</code><a href="#domaineventtype-1" class="hash-link" aria-label="Direct link to domaineventtype-1" title="Direct link to domaineventtype-1">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="variants-2">Variants<a href="#variants-2" class="hash-link" aria-label="Direct link to Variants" title="Direct link to Variants">​</a></h5>
<ul>
<li><code>NFT_MINTED</code></li>
<li><code>NFT_TRANSFERED</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="domainevent-1"><code>DomainEvent</code><a href="#domainevent-1" class="hash-link" aria-label="Direct link to domainevent-1" title="Direct link to domainevent-1">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="fields-3">Fields<a href="#fields-3" class="hash-link" aria-label="Direct link to Fields" title="Direct link to Fields">​</a></h5>
<ul>
<li><code>evnt_type: DomainEventType</code></li>
<li><code>evnt_payload: Vec&lt;u8&gt;</code></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-7">Methods<a href="#methods-7" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new(evnt_type: DomainEventType, evnt_payload: Vec&lt;u8&gt;) -&gt; Self</code>: Creates a new instance of <code>DomainEvent</code>.</li>
<li><code>serialize(&amp;self) -&gt; Result&lt;Vec&lt;u8&gt;, String&gt;</code>: Serializes the domain event to a byte array.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="store">Store<a href="#store" class="hash-link" aria-label="Direct link to Store" title="Direct link to Store">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="aggregaterepository"><code>AggregateRepository</code><a href="#aggregaterepository" class="hash-link" aria-label="Direct link to aggregaterepository" title="Direct link to aggregaterepository">​</a></h4>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="fields-4">Fields<a href="#fields-4" class="hash-link" aria-label="Direct link to Fields" title="Direct link to Fields">​</a></h5>
<ul>
<li><code>event_store: Box&lt;dyn EventStore&gt;</code></li>
</ul>
<h5 class="anchor anchorWithStickyNavbar_LWe7" id="methods-8">Methods<a href="#methods-8" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h5>
<ul>
<li><code>new(event_store: Box&lt;dyn EventStore&gt;) -&gt; Self</code>: Creates a new instance of `AggregateRepository</li>
</ul>
<p>🌟 <strong>Ecosystem Fit:</strong> 🌟</p>
<p>🔹 <strong>Project&#x27;s Fit:</strong> CILA will provide an infrastructure for building efficient omnichain smart contracts that can be integrated into the Polkadot ecosystem, offering a unique solution in the Substrate/Polkadot/Kusama landscape.</p>
<p>🔹 <strong>Target Audience:</strong> Developers interested in building omnichain smart contracts on Substrate, Polkadot, and Kusama, particularly those looking to develop cross-chain applications and interact with multiple blockchain networks.</p>
<p>🔹 <strong>Project&#x27;s Purpose:</strong> The infrastructure will enable developers to build more efficient and scalable omnichain smart contracts, making it easier to create cross-chain applications that interact with multiple blockchain networks. This will help solve the problem of siloed blockchains and allow developers to take advantage of the benefits of multiple chains.</p>
<p>🔹 <strong>Similar Projects:</strong> We are not aware of any other projects similar to OmniChain in the Substrate/Polkadot/Kusama ecosystem, offering a unique solution for building omnichain smart contracts.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="team-">Team 🦾<a href="#team-" class="hash-link" aria-label="Direct link to Team 🦾" title="Direct link to Team 🦾">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-members">Team members<a href="#team-members" class="hash-link" aria-label="Direct link to Team members" title="Direct link to Team members">​</a></h3>
<ul>
<li>👨‍💻 Alex Shkor - Architect, Developer, Team Lead</li>
<li>👨‍💻 Alexey Kulik - Architect, Developer</li>
<li>👩‍💼 Julia Shinkevich - Project Manager</li>
<li>🧑‍💼 Max Slyzkoukh - Product Manager</li>
<li>👨‍🔧 Yahor Tsaryk - Engineer</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="contact">Contact<a href="#contact" class="hash-link" aria-label="Direct link to Contact" title="Direct link to Contact">​</a></h3>
<ul>
<li><strong>Contact Name:</strong> Alex Shkor</li>
<li><strong>Contact Email:</strong> <a href="mailto:alex@cilabs.ai" target="_blank" rel="noopener noreferrer">alex@cilabs.ai</a></li>
<li><strong>Website:</strong> <a href="https://collectiveintelligence.dev/" target="_blank" rel="noopener noreferrer">https://collectiveintelligence.dev/</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="legal-structure">Legal Structure<a href="#legal-structure" class="hash-link" aria-label="Direct link to Legal Structure" title="Direct link to Legal Structure">​</a></h3>
<ul>
<li><strong>Registered Address:</strong> 16192 Coastal Highway, Lewes, DE 19958, United States.</li>
<li><strong>Registered Legal Entity:</strong> Collective Intelligence Labs Inc.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="teams-experience">Team&#x27;s experience<a href="#teams-experience" class="hash-link" aria-label="Direct link to Team&#x27;s experience" title="Direct link to Team&#x27;s experience">​</a></h3>
<p>Our team&#x27;s extensive experience in blockchain development and past successful projects make us well-suited for this project. We have developed several blockchain-based platforms, including DeSci, which offers a decentralized scientific communication infrastructure, and IPledger, which registers intellectual property assets on the blockchain. We have also built a Proof of Share protocol for verification on a chain that specific files have been shared between parties, an on-chain grants distribution platform, a decentralized technology transfer platform, <a href="https://github.com/DEIPworld/deip-node/tree/develop/pallets/deip_f_nft" target="_blank" rel="noopener noreferrer">F-NFT</a> and <a href="https://github.com/DEIPworld/deip-node/tree/develop/event-proxy" target="_blank" rel="noopener noreferrer">Event Proxy</a> for Substrate, and other projects.</p>
<p>Our team members have also contributed to open-source blockchain projects, demonstrating our commitment to the development of the blockchain ecosystem as a whole.</p>
<p>Our Team Lead is distributed systems architect and has over 14 years of experience in this field, with one of our team members being the inventor of omnichain smart-contracts protocol, which is an important aspect of this project. Our Software Engineer has over 10 years of experience in distributed systems engineering and was the ex-CTO at DEIP and the creator of the Economy Protocol. Our Tech Lead has experience in distributed system and blockchain R&amp;D and was the ex-Head of R&amp;D at Paralect, while also having experience as an ex-CPO at DEIP. Our Head of Marketing has 9 years of experience in PR and communications, having worked with micromobility and web3 startups. Our Product Manager expert in digital transformation has 6 years of experience in the procurement of 50+ leading private and state Ukrainian enterprises.</p>
<p>As a team, we have previously applied for a grant from the web3 foundation grants program for our DEIP project (DEIPWORLC Inc. legal entity). However, due to the constantly evolving market landscape and changing needs of the industry, we decided to pivot multiple times, and therefore did not deliver original proposal fully (only about 50% of it - onchain part). During the process we realized that on-chain IP management would not be possible without other infrastructure part. Therefore we decided to completely stop <a href="https://github.com/DEIPworld" target="_blank" rel="noopener noreferrer">previous project</a>, change our focus and start working on a diferent solution, the core solution that will make possible to implement DEIP and other our projects that rely on omni-chain infrastructure and onchain IP management - omni-chain infrastructure</p>
<p>We believe that being transparent about our previous application and pivot is important. We want to assure the committee that we are committed to delivering the proposed solution for our current application, and that we are passionate about creating value in the blockchain ecosystem.</p>
<p>We are confident that our team&#x27;s expertise and experience in developing distributed systems and infrastructure will enable us to successfully execute our proposed CILA omnichain infrastructure project. We believe that this infrastructure is crucial for the growth and adoption of blockchain technology, and we are excited about the opportunity to contribute to this space.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-code-repos">Team Code Repos<a href="#team-code-repos" class="hash-link" aria-label="Direct link to Team Code Repos" title="Direct link to Team Code Repos">​</a></h3>
<ul>
<li><a href="https://github.com/Collective-Intelligence-Labs" target="_blank" rel="noopener noreferrer">https://github.com/Collective-Intelligence-Labs</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-github-profiles">Team GitHub Profiles<a href="#team-github-profiles" class="hash-link" aria-label="Direct link to Team GitHub Profiles" title="Direct link to Team GitHub Profiles">​</a></h3>
<ul>
<li><a href="https://github.com/alexshkor" target="_blank" rel="noopener noreferrer">https://github.com/alexshkor</a></li>
<li><a href="https://github.com/aliakseikulik" target="_blank" rel="noopener noreferrer">https://github.com/aliakseikulik</a></li>
<li><a href="https://github.com/yahortsaryk" target="_blank" rel="noopener noreferrer">https://github.com/yahortsaryk</a></li>
<li><a href="https://github.com/juliacil" target="_blank" rel="noopener noreferrer">https://github.com/juliacil</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="team-linkedin-profiles">Team LinkedIn Profiles<a href="#team-linkedin-profiles" class="hash-link" aria-label="Direct link to Team LinkedIn Profiles" title="Direct link to Team LinkedIn Profiles">​</a></h3>
<ul>
<li><a href="https://www.linkedin.com/in/alexshkor/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/alexshkor/</a></li>
<li><a href="https://www.linkedin.com/in/alexeykulik/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/alexeykulik/</a></li>
<li><a href="https://www.linkedin.com/in/julia-shinkevich/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/julia-shinkevich/</a></li>
<li><a href="https://www.linkedin.com/in/max-slyzkouh/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/max-slyzkouh/</a></li>
<li><a href="https://www.linkedin.com/in/yahor-tsaryk-92032a68/" target="_blank" rel="noopener noreferrer">https://www.linkedin.com/in/yahor-tsaryk-92032a68/</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-status-open_book">Development Status <!-- -->📖<a href="#development-status-open_book" class="hash-link" aria-label="Direct link to development-status-open_book" title="Direct link to development-status-open_book">​</a></h2>
<p>CILA omnichain infrastructure for Substrate is currently in the research and planning phase. We have conducted extensive research on the existing smart contract infrastructure and identified the need for an omnichain smart contract solution. Our team has also analyzed the capabilities of the Substrate/Polkadot/Kusama ecosystem and determined that it is the ideal platform for building this solution.</p>
<p>We have created a detailed project plan that outlines the development roadmap and milestones. This plan includes research and development of the necessary components.</p>
<ul>
<li>Draft of solidity implementation: <a href="https://github.com/Collective-Intelligence-Labs/cila-sol-contracts" target="_blank" rel="noopener noreferrer">https://github.com/Collective-Intelligence-Labs/cila-sol-contracts</a></li>
<li>Vision Paper: <a href="https://docsend.com/view/eqt2iazwmff3jikh" target="_blank" rel="noopener noreferrer">https://docsend.com/view/eqt2iazwmff3jikh</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="development-roadmap-nut_and_bolt">Development Roadmap <!-- -->🔩<a href="#development-roadmap-nut_and_bolt" class="hash-link" aria-label="Direct link to development-roadmap-nut_and_bolt" title="Direct link to development-roadmap-nut_and_bolt">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="overview-2">Overview<a href="#overview-2" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h3>
<ul>
<li><strong>Total Estimated Duration:</strong> 3 months</li>
<li><strong>Full-Time Equivalent (FTE):</strong> 2 FTE</li>
<li><strong>Total Costs:</strong> 30,000 USD</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-1--design-and-implementation">Milestone 1 — Design and Implementation<a href="#milestone-1--design-and-implementation" class="hash-link" aria-label="Direct link to Milestone 1 — Design and Implementation" title="Direct link to Milestone 1 — Design and Implementation">​</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 1 month</li>
<li><strong>FTE:</strong>  2</li>
<li><strong>Costs:</strong> 10,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will ensure comprehensive documentation of the code by providing both inline comments and a step-by-step tutorial. This tutorial will guide the user through spinning up a Substrate-based execution environment for the CILA Omnichain Infrastructure and testing omnichain transactions, showcasing the new functionality.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>We will conduct comprehensive unit testing on the core functionalities including Aggregate, Event Store, Aggregate Repository, Snapshot Store, and Dispatcher, to ensure optimum functionality and robustness. The testing guide will contain instructions on how to execute these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will deliver Dockerfiles for testing all the functionality included in this milestone.</td></tr><tr><td style="text-align:right">1.</td><td>Substrate module: Aggregate</td><td>The Aggregate pallet provides the base functionality for implementing the Command Query Responsibility Segregation (CQRS) pattern on a Substrate-based blockchain. It defines the Aggregate trait, which is used to define the state and behavior of an Aggregate.</td></tr><tr><td style="text-align:right">2.</td><td>Substrate module: AggregateState</td><td>The AggregateState pallet provides a default implementation of the AggregateState trait, which stores the current state of an Aggregate in the blockchain&#x27;s storage. This pallet is responsible for managing the state of an Aggregate and updating it based on incoming commands.</td></tr><tr><td style="text-align:right">3.</td><td>Substrate module: AggregateRepository</td><td>The AggregateRepository pallet provides an implementation of the AggregateRepository trait, which is responsible for retrieving and storing Aggregates in the blockchain&#x27;s storage. It allows developers to easily store and retrieve Aggregates from the blockchain&#x27;s storage.</td></tr><tr><td style="text-align:right">4.</td><td>Substrate module: CommandDispatcher</td><td>The CommandDispatcher pallet provides a way to dispatch incoming commands to the appropriate Aggregates based on their type. It uses a HashMap to store the mapping between command types and the Aggregates that handle them.</td></tr><tr><td style="text-align:right">5.</td><td>Substrate module: EventStore</td><td>The EventStore pallet provides a way to store and retrieve events that have been emitted by Aggregates. It allows developers to easily retrieve the events emitted by a specific Aggregate and replay them to reconstruct the current state of the Aggregate.</td></tr><tr><td style="text-align:right">6.</td><td>Substrate module: EventsEmitter</td><td>The EventsEmitter pallet provides a way for Aggregates to emit events. It defines a trait that Aggregates can implement to specify the types of events they emit, and provides a way to subscribe to events emitted by specific Aggregates.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-2--testing-and-documentation">Milestone 2 — Testing and Documentation<a href="#milestone-2--testing-and-documentation" class="hash-link" aria-label="Direct link to Milestone 2 — Testing and Documentation" title="Direct link to Milestone 2 — Testing and Documentation">​</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 1 month</li>
<li><strong>FTE:</strong>  2</li>
<li><strong>Costs:</strong> 10,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>We will ensure comprehensive documentation of the code by providing both inline comments and a step-by-step tutorial. This tutorial will guide the user through spinning up a Substrate-based execution environment for the CILA Omnichain Infrastructure and testing omnichain transactions, showcasing the new functionality. Special attention will be given to documenting the setup and testing of multiple Substrate chains running simultaneously, to test the synchronization of the state smart contract between them.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>We will conduct comprehensive unit testing on the core functionalities including Aggregate, Event Store, Aggregate Repository, Snapshot Store, and Dispatcher, to ensure optimum functionality and robustness. In particular, we will place emphasis on testing the infrastructure running with multiple chains to ensure that the synchronization mechanism is functioning as intended. The testing guide will contain instructions on how to execute these tests.</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>We will deliver Dockerfiles for testing all the functionality included in this milestone, including orchestration with multiple chains. For orchestration purposes we might use Kubernates.</td></tr><tr><td style="text-align:right">0e.</td><td>Article</td><td>We will publish a technical article that details the implementation of the Command-Query Responsibility Segregation (CQRS) and Event Sourcing architecture on the Substrate framework. The article will provide an in-depth explanation of the design choices made and the challenges faced during the implementation. It will also include a detailed walkthrough of the codebase, highlighting key areas of interest and how they fit into the overall architecture. The article will be written in a technical language that targets developers with experience in blockchain and distributed systems.</td></tr><tr><td style="text-align:right">1.</td><td>Substrate chain</td><td>Set up and run multiple Substrate chains simultaneously to test the synchronization of a state smart contract between them. This will involve deploying the omnichain smart contract infrastructure to each chain and executing transactions on each chain to ensure that the contract state is properly synchronized between them. Additionally, various network conditions such as network latency and node failures will be simulated to test the robustness and reliability of the synchronization mechanism. The results of these tests will be recorded and analyzed to identify any potential issues and ensure that the synchronization mechanism is functioning as intended.</td></tr><tr><td style="text-align:right">2.</td><td>Automated Tests</td><td>We will create and publish automated tests for critical infrastructure parts of Substrate-based CQRS + Event Sourcing execution enviroment. The aim of this test will be to test two cases - non conflicting execution (changes coming to one chain and transmitted to the other one), and conflicting transactions when the same aggregate is updated with two conflicing state changes that simuntaniusly come to different chans.</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="milestone-3--example-smart-contracts-and-enhancements">Milestone 3 — Example Smart Contracts and Enhancements<a href="#milestone-3--example-smart-contracts-and-enhancements" class="hash-link" aria-label="Direct link to Milestone 3 — Example Smart Contracts and Enhancements" title="Direct link to Milestone 3 — Example Smart Contracts and Enhancements">​</a></h3>
<ul>
<li><strong>Estimated duration:</strong> 1 month</li>
<li><strong>FTE:</strong>  2</li>
<li><strong>Costs:</strong> 10,000 USD</li>
</ul>
<table><thead><tr><th style="text-align:right">Number</th><th>Deliverable</th><th>Specification</th></tr></thead><tbody><tr><td style="text-align:right"><strong>0a.</strong></td><td>License</td><td>Apache 2.0</td></tr><tr><td style="text-align:right"><strong>0b.</strong></td><td>Documentation</td><td>Provide inline documentation of the NFTAggregate pallet and NFTAggregateState pallet code, as well as a basic tutorial that explains how a user can set up a Substrate node and send test transactions to test the NFT functionalities provided by these modules. Additionally, comprehensive unit tests will be developed and documented to ensure the functionality and robustness of the NFTAggregate pallet and NFTAggregateState pallet. A testing guide will also be provided, describing how to run the tests.</td></tr><tr><td style="text-align:right"><strong>0c.</strong></td><td>Testing and Testing Guide</td><td>For this milestone, we will develop comprehensive unit tests to cover the core functions of the NFTAggregate module and the NFTAggregateState pallet. These tests will be designed to ensure the functionality and robustness of the code. The unit tests will be included in the code repository and will cover a range of scenarios to ensure that the code is thoroughly tested. For example, we will test the minting, burning, and transferring of NFTs, as well as error handling and edge cases. In the testing guide, we will provide detailed instructions on how to run these tests, including any required dependencies and setup steps. We will also include information on how to interpret the test results and what to do in the case of failures or errors..</td></tr><tr><td style="text-align:right"><strong>0d.</strong></td><td>Docker</td><td>In order to facilitate testing and deployment of the NFTAggregate pallet and NFTAggregateState pallet, we will provide Dockerfiles that can be used to easily set up and configure a development environment. These Dockerfiles will include all the necessary dependencies and configuration to run the Substrate-based blockchain with the new functionalities.</td></tr><tr><td style="text-align:right">1.</td><td>Substrate module: NFTAggregate</td><td>The NFTAggregate pallet provides a way to implement Non-Fungible Tokens (NFTs) on a Substrate-based blockchain. It defines a trait that NFT Aggregates can implement to specify the behavior of NFTs, including minting, burning, and transferring.</td></tr><tr><td style="text-align:right">2.</td><td>Substrate module: NFTAggregateState</td><td>The NFTAggregateState pallet provides a default implementation of the state of an NFT Aggregate, which stores the current state of NFTs in the blockchain&#x27;s storage. This pallet is responsible for managing the state of NFTs and updating it based on incoming commands.</td></tr><tr><td style="text-align:right">3.</td><td>Report: Substrate Ecosystem NFT standards</td><td>To choose the most optimal standard for omnichain implementation we will conduct research and assess all the available NFT standards against two major criteria: popularity and technical quality. Popularity will be measured by the number of stars on the GitHub repository and how many projects are actually using it (usage assesment will be done on a best effort basis), and the technical quality will be assessed by analyzing if a specific standard satisfies <a href="https://en.wikipedia.org/wiki/SOLID" target="_blank" rel="noopener noreferrer">SOLID</a> design principles.</td></tr></tbody></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="future-plans">Future Plans<a href="#future-plans" class="hash-link" aria-label="Direct link to Future Plans" title="Direct link to Future Plans"> ​</a></h2>
<p>In the short term, we plan to continue to develop and enhance our project to ensure its success and sustainability. This will include ongoing testing, bug fixes, and implementing additional features and improvements as needed. We will actively promote our project through various channels, including social media, blog posts, and community events.</p>
<p>After the completion of the proposed infrastructure, we intend to continue its development by incorporating support for multiple blockchains and introducing more advanced functionalities, such as dynamic rebalancing for aggregates. Additionally, we plan to establish partnerships with leading players in the Substrate/Polkadot/Kusama ecosystem and to integrate our omnichain infrastructure with existing projects, such as DeFi and NFT marketplaces, to further increase adoption. Finally, we will provide comprehensive documentation and support to ensure that our infrastructure is accessible and user-friendly for developers and users alike.</p>
<p>In the long term, we envision our project becoming a leading platform for event-centric CQRS + Event Sourcing execution environments and omnichain smart contracts on the Substrate blockchain. We plan to expand our team and further invest in research and development to stay ahead of the curve and meet the needs of the rapidly evolving blockchain industry. We will continue to engage with the community and seek feedback to ensure that our project remains relevant and valuable to users. Our ultimate goal is to create a platform that is widely adopted and helps to drive the mainstream adoption of blockchain technology.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="additional-information-heavy_plus_sign">Additional Information <!-- -->➕<a href="#additional-information-heavy_plus_sign" class="hash-link" aria-label="Direct link to additional-information-heavy_plus_sign" title="Direct link to additional-information-heavy_plus_sign">​</a></h2>
<p><img decoding="async" loading="lazy" src="https://i.imgur.com/WZt1hdx.png" alt="mission" class="img_ev3q"></p>
<p><strong>How did you hear about the Grants Program?</strong> personal recommendation</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/w3f/Grants-Program/edit/master/applications/CILA-omnichain-infrastructure.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#project-overview-page_facing_up" class="table-of-contents__link toc-highlight">Project Overview 📄</a><ul><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#implementation" class="table-of-contents__link toc-highlight">Implementation</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#-technology-stack" class="table-of-contents__link toc-highlight">🚀 Technology Stack</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a></li><li><a href="#benefits" class="table-of-contents__link toc-highlight">Benefits</a></li><li><a href="#conclusion-1" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#implementation-1" class="table-of-contents__link toc-highlight">Implementation</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#benefits-1" class="table-of-contents__link toc-highlight">Benefits</a></li><li><a href="#conclusion-2" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#overview-1" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#implementation-2" class="table-of-contents__link toc-highlight">Implementation</a></li><li><a href="#conclusion-3" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#description-1" class="table-of-contents__link toc-highlight">Description</a></li><li><a href="#implementation-3" class="table-of-contents__link toc-highlight">Implementation</a><ul><li><a href="#internal-state" class="table-of-contents__link toc-highlight">Internal state</a></li><li><a href="#command-handling" class="table-of-contents__link toc-highlight">Command handling</a></li><li><a href="#event-sourcing" class="table-of-contents__link toc-highlight">Event sourcing</a></li><li><a href="#snapshotting" class="table-of-contents__link toc-highlight">Snapshotting</a></li></ul></li><li><a href="#conclusion-4" class="table-of-contents__link toc-highlight">Conclusion</a><ul><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a></li><li><a href="#usage-1" class="table-of-contents__link toc-highlight">Usage</a></li></ul></li><li><a href="#diagramm" class="table-of-contents__link toc-highlight">Diagramm</a></li><li><a href="#domain" class="table-of-contents__link toc-highlight">Domain</a><ul><li><a href="#aggregate-1" class="table-of-contents__link toc-highlight">Aggregate</a></li><li><a href="#entities" class="table-of-contents__link toc-highlight">Entities</a></li></ul></li><li><a href="#application" class="table-of-contents__link toc-highlight">Application</a><ul><li><a href="#command" class="table-of-contents__link toc-highlight">Command</a></li><li><a href="#service" class="table-of-contents__link toc-highlight">Service</a></li><li><a href="#event" class="table-of-contents__link toc-highlight">Event</a></li><li><a href="#store" class="table-of-contents__link toc-highlight">Store</a></li></ul></li><li><a href="#team-" class="table-of-contents__link toc-highlight">Team 🦾</a><ul><li><a href="#team-members" class="table-of-contents__link toc-highlight">Team members</a></li><li><a href="#contact" class="table-of-contents__link toc-highlight">Contact</a></li><li><a href="#legal-structure" class="table-of-contents__link toc-highlight">Legal Structure</a></li><li><a href="#teams-experience" class="table-of-contents__link toc-highlight">Team&#39;s experience</a></li><li><a href="#team-code-repos" class="table-of-contents__link toc-highlight">Team Code Repos</a></li><li><a href="#team-github-profiles" class="table-of-contents__link toc-highlight">Team GitHub Profiles</a></li><li><a href="#team-linkedin-profiles" class="table-of-contents__link toc-highlight">Team LinkedIn Profiles</a></li></ul></li><li><a href="#development-status-open_book" class="table-of-contents__link toc-highlight">Development Status 📖</a></li><li><a href="#development-roadmap-nut_and_bolt" class="table-of-contents__link toc-highlight">Development Roadmap 🔩</a><ul><li><a href="#overview-2" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#milestone-1--design-and-implementation" class="table-of-contents__link toc-highlight">Milestone 1 — Design and Implementation</a></li><li><a href="#milestone-2--testing-and-documentation" class="table-of-contents__link toc-highlight">Milestone 2 — Testing and Documentation</a></li><li><a href="#milestone-3--example-smart-contracts-and-enhancements" class="table-of-contents__link toc-highlight">Milestone 3 — Example Smart Contracts and Enhancements</a></li></ul></li><li><a href="#future-plans" class="table-of-contents__link toc-highlight">Future Plans</a></li><li><a href="#additional-information-heavy_plus_sign" class="table-of-contents__link toc-highlight">Additional Information ➕</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/w3f/Grants-Program" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://web3.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Support Docs/privacy_policy">Privacy Policy</a></li><li class="footer__item"><a href="https://web3.foundation/legal-disclosures/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Legal Disclosures</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/Web3foundation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/!XpynPDLusWUWfDpaqr:matrix.org?via=web3.foundation&amp;via=matrix.org&amp;via=matrix.parity.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Grants Community Matrix Channel<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">© 2025 Web3 Foundation</div></div></div></footer></div>
</body>
</html>